{"version":3,"sources":["components/MenuButton.module.scss","components/default_user.png","components/Contents.module.scss","components/Form.module.scss","components/MessageList.module.scss","components/LoginBox.module.scss","components/LoginButton.module.scss","components/UserList.module.scss","components/apolloClient.js","components/MenuButton.js","components/Header.js","components/User.js","components/UserList.js","library/getTimeString.js","components/Message.js","components/MessageList.js","components/Form.js","components/Contents.js","components/Home.js","components/GoogleLoginButton.js","components/FacebookLoginButton.js","components/LoginBox.js","components/LoginPage.js","components/App.js","index.js","components/Message.module.scss","components/Header.module.scss","components/User.module.scss"],"names":["module","exports","menuButton","menuIcon","contents","form","sendButton","messageList","loginBox","loginButton","logo","list","show","unshow","onlineBar","offlineBar","searchField","toggleShowList","httpLink","HttpLink","uri","wsLink","WebSocketLink","options","reconnect","link","split","_ref","query","_getMainDefinition","getMainDefinition","kind","operation","client","ApolloClient","cache","InMemoryCache","MenuButton","setRedirectToReferrer","_useState","useState","_useState2","Object","slicedToArray","anchorEl","setAnchorEl","open","Boolean","handleClose","react_default","a","createElement","className","styles","index_es","aria-label","aria-owns","undefined","aria-haspopup","onClick","event","currentTarget","Icon_default","Menu_default","id","anchorOrigin","vertical","horizontal","transformOrigin","onClose","PaperProps","style","width","MenuItem_default","window","sessionStorage","clear","Header","header","components_MenuButton","User","_id","name","picture","setChatId","defaultImageUrl","user","src","alt","imgProfile","userName","propType","PropTypes","String","func","defaultProps","onClickUser","console","warn","getUsers","gql","_templateObject","UserList","setToggleShowList","_useState3","_useState4","keyword","setKeyword","handleChange","e","target","value","react_apollo_esm","_ref2","loading","data","log","filteredSearchUser","users","filter","indexOf","getItem","filteredOnlineUser","online","filteredOfflineUser","react","concat","TextField_default","label","margin","onChange","map","components_User","key","imageUrl","fontSize","color","getTimeString","date","d","Date","hour","getHours","min","getMinutes","strTime","Message","me","time","children","sentMessage","receivedMessage","sentMessageBox","receivedMessageBox","bool","number","getMessages","MessageList_templateObject","newMessage","_templateObject2","unsubscribe","MessageList","scrollToBottom","_this","messagesEnd","setTimeout","scrollIntoView","_this2","this","chatId","props","variables","userId1","userId2","error","subscribeToMore","refetch","document","roomId","updateQuery","prev","subscriptionData","objectSpread","messages","toConsumableArray","message","components_Message","senderId","float","ref","el","React","Component","sendMessage","Form_templateObject","Form","setContents","mutaition","useMutation","receiverId","onKeyPress","fullWidth","placeholder","variant","InputProps","endAdornment","position","Contents","components_MessageList","components_Form","Home","redirectToReferrer","react_router","to","Fragment","components_Header","components_UserList","components_Contents","addUser","GoogleLoginButton_templateObject","GoogleLoginButton","mutation","google_login","clientId","buttonText","onSuccess","res","profileObj","googleId","setItem","onFailure","FacebookLoginButton_templateObject","FacebookLoginButton","facebook_login_with_button_default","appId","autoLoad","fields","redirectUri","callback","url","icon","LoginBox","components_GoogleLoginButton","components_FacebookLoginButton","LoginPage","components_LoginBox","App","ApolloContext","react_router_dom","exact","path","component","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.2de245b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuButton\":\"MenuButton_menuButton__2hnTh\",\"menuIcon\":\"MenuButton_menuIcon__1ETe7\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contents\":\"Contents_contents__13PQN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__2mMMU\",\"sendButton\":\"Form_sendButton__37K3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageList\":\"MessageList_messageList__2-Kzd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBox\":\"LoginBox_loginBox__217rc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginButton\":\"LoginButton_loginButton__1t5-Z\",\"logo\":\"LoginButton_logo__1i_wS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"UserList_list__3xMby\",\"show\":\"UserList_show__3i0cX\",\"unshow\":\"UserList_unshow__18URb\",\"onlineBar\":\"UserList_onlineBar__1kMQR\",\"offlineBar\":\"UserList_offlineBar__KiJry\",\"searchField\":\"UserList_searchField__BmTa6\",\"toggleShowList\":\"UserList_toggleShowList__lLded\"};","import { ApolloClient, HttpLink, split } from \"apollo-boost\";\nimport { WebSocketLink } from \"apollo-link-ws\";\nimport { getMainDefinition } from \"apollo-utilities\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\n\nconst httpLink = new HttpLink({\n  uri: \"http://localhost:4000\"\n});\n\nconst wsLink = new WebSocketLink({\n  uri: `ws://localhost:4000/`,\n  options: {\n    reconnect: true\n  }\n});\n\nconst link = split(\n  ({ query }) => {\n    const { kind, operation } = getMainDefinition(query);\n    return kind === \"OperationDefinition\" && operation === \"subscription\";\n  },\n  wsLink,\n  httpLink\n);\n\nconst client = new ApolloClient({\n  link,\n  cache: new InMemoryCache()\n});\n\nexport default client;\n","import React, { useState } from \"react\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Icon from \"@material-ui/core/Icon\";\nimport { IconButton } from \"@material-ui/core\";\nimport styles from \"./MenuButton.module.scss\";\n\nconst MenuButton = ({ setRedirectToReferrer }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const onClickLogout = () => {\n    window.sessionStorage.clear();\n    setRedirectToReferrer(true);\n  };\n\n  return (\n    <div className={styles.menuButton}>\n      <IconButton\n        aria-label=\"More\"\n        aria-owns={open ? \"menu\" : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <Icon className={styles.menuIcon}>more_vert</Icon>\n      </IconButton>\n      <Menu\n        id=\"menu\"\n        anchorEl={anchorEl}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n        open={open}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            width: 200\n          }\n        }}\n      >\n        <MenuItem onClick={onClickLogout}>Logout</MenuItem>\n        <MenuItem onClick={handleClose}>Todo List</MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nexport default MenuButton;\n","import React from \"react\";\nimport styles from \"./Header.module.scss\";\nimport MenuButton from \"./MenuButton\";\nconst Header = ({ setRedirectToReferrer }) => {\n  return (\n    <div className={styles.header}>\n      <div className={styles.logo}>Messenger</div>\n      <MenuButton\n        className={styles.menuButton}\n        setRedirectToReferrer={setRedirectToReferrer}\n      />\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./User.module.scss\";\nimport defaultImageUrl from \"./default_user.png\";\n\nconst User = ({ _id, name, picture, setChatId }) => {\n  if (!picture) {\n    picture = defaultImageUrl;\n  }\n  return (\n    <div\n      className={styles.user}\n      onClick={() => {\n        setChatId(_id);\n      }}\n    >\n      <img src={picture} alt=\"profile\" className={styles.imgProfile} />\n      <div className={styles.userName}>{name}</div>\n    </div>\n  );\n};\n\nUser.propType = {\n  _id: PropTypes.String,\n  name: PropTypes.String,\n  picture: PropTypes.String,\n  onClick: PropTypes.func\n};\n\nUser.defaultProps = {\n  id: \"\",\n  name: \"이름 없음\",\n  picture: defaultImageUrl,\n  onClickUser: () => {\n    console.warn(\"onClick is not define\");\n  }\n};\n\nexport default User;\n","import React, { Fragment, useState } from \"react\";\nimport Icon from \"@material-ui/core/Icon\";\nimport TextField from \"@material-ui/core/TextField\";\nimport styles from \"./UserList.module.scss\";\nimport User from \"./User\";\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\n\nconst getUsers = gql`\n  query {\n    users {\n      _id\n      name\n      imageUrl\n      online\n    }\n  }\n`;\n\nconst UserList = ({ setChatId }) => {\n  const [toggleShowList, setToggleShowList] = useState(false);\n  const [keyword, setKeyword] = useState(\"\");\n  const handleChange = e => {\n    setKeyword(e.target.value);\n  };\n\n  return (\n    <Query query={getUsers}>\n      {({ loading, data }) => {\n        if (loading) {\n          return null;\n        }\n        if (data) {\n          console.log(data);\n          const filteredSearchUser = data.users.filter(\n            user =>\n              user.name.indexOf(keyword) !== -1 &&\n              user._id !== window.sessionStorage.getItem(\"id\")\n          );\n          const filteredOnlineUser = filteredSearchUser.filter(\n            user => user.online\n          );\n          const filteredOfflineUser = filteredSearchUser.filter(\n            user => !user.online\n          );\n          return (\n            <Fragment>\n              <div\n                className={`${styles.list} ${\n                  toggleShowList ? styles.show : styles.unshow\n                }`}\n              >\n                <TextField\n                  id=\"standard-dense\"\n                  label=\"Search\"\n                  margin=\"dense\"\n                  onChange={handleChange}\n                />\n                <div className={styles.onlineBar}>online</div>\n                {filteredOnlineUser.map(user => (\n                  <User\n                    key={user._id}\n                    _id={user._id}\n                    name={user.name}\n                    picture={user.imageUrl}\n                    setChatId={setChatId}\n                  />\n                ))}\n                <div className={styles.offlineBar}>offline</div>\n                {filteredOfflineUser.map(user => (\n                  <User\n                    key={user._id}\n                    _id={user._id}\n                    name={user.name}\n                    picture={user.imageUrl}\n                    setChatId={setChatId}\n                  />\n                ))}\n              </div>\n\n              <Icon\n                className={styles.toggleShowList}\n                fontSize=\"large\"\n                color=\"inherit\"\n                onClick={() => {\n                  setToggleShowList(toggleShowList ? false : true);\n                  console.log(toggleShowList);\n                }}\n              >\n                people\n              </Icon>\n            </Fragment>\n          );\n        }\n      }}\n    </Query>\n  );\n};\n\nexport default UserList;\n","const getTimeString = date => {\n  let d = new Date(date),\n    hour = d.getHours(),\n    min = d.getMinutes(),\n    strTime = \"오전 \";\n\n  if (hour >= 12) {\n    hour -= 12;\n    strTime = \"오후 \";\n  }\n\n  if (hour < 10) hour = \"0\" + hour;\n  if (min < 10) min = \"0\" + min;\n\n  strTime += hour + \":\" + min;\n  return strTime;\n};\n\nexport default getTimeString;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Message.module.scss\";\nimport getTimeString from \"../library/getTimeString\";\n\nconst Message = ({ me, time, children }) => {\n  return (\n    <div className={me ? styles.sentMessage : styles.receivedMessage}>\n      <div className={me ? styles.sentMessageBox : styles.receivedMessageBox}>\n        {children}\n      </div>\n      <div className={styles.time}>{getTimeString(time)}</div>\n    </div>\n  );\n};\n\nMessage.propType = {\n  me: PropTypes.bool,\n  date: PropTypes.number\n};\n\nexport default Message;\n","import React from \"react\";\nimport Message from \"./Message\";\nimport styles from \"./MessageList.module.scss\";\nimport gql from \"graphql-tag\";\nimport { Query } from \"react-apollo\";\n\nconst getMessages = gql`\n  query messages($userId1: String!, $userId2: String!) {\n    messages(userId1: $userId1, userId2: $userId2) {\n      _id\n      senderId\n      receiverId\n      contents\n      time\n    }\n  }\n`;\n\nconst newMessage = gql`\n  subscription newMessage($roomId: String) {\n    newMessage(roomId: $roomId) {\n      _id\n      senderId\n      receiverId\n      contents\n      time\n    }\n  }\n`;\n\nlet unsubscribe = null;\n\nclass MessageList extends React.Component {\n  scrollToBottom = () => {\n    console.log(this.messagesEnd);\n    setTimeout(() => {\n      this.messagesEnd.scrollIntoView();\n    }, 100);\n  };\n\n  render() {\n    const { chatId } = this.props;\n    return (\n      <div>\n        <Query\n          query={getMessages}\n          variables={{\n            userId1: window.sessionStorage.getItem(\"id\"),\n            userId2: chatId\n          }}\n        >\n          {({ loading, error, data, subscribeToMore, refetch }) => {\n            if (loading) {\n              return null;\n            }\n            if (error) {\n              return error;\n            }\n            if (!unsubscribe) {\n              unsubscribe = subscribeToMore({\n                document: newMessage,\n                variables: {\n                  roomId:\n                    window.sessionStorage.getItem(\"id\") < chatId\n                      ? window.sessionStorage.getItem(\"id\") + chatId\n                      : chatId + window.sessionStorage.getItem(\"id\")\n                },\n                updateQuery: (prev, { subscriptionData }) => {\n                  if (!subscriptionData.data) {\n                    return prev;\n                  }\n                  const { newMessage } = subscriptionData.data;\n                  return {\n                    ...prev,\n                    messages: [...prev.messages, newMessage]\n                  };\n                }\n              });\n            }\n            console.log(data.messages);\n            refetch();\n            this.scrollToBottom();\n            return (\n              <div className={styles.messageList}>\n                {data.messages.map(message => (\n                  <Message\n                    key={message._id}\n                    me={\n                      message.senderId === window.sessionStorage.getItem(\"id\")\n                    }\n                    time={message.time}\n                  >\n                    {message.contents}\n                  </Message>\n                ))}\n              </div>\n            );\n          }}\n        </Query>\n\n        <div\n          style={{\n            float: \"left\",\n            clear: \"both\"\n          }}\n          ref={el => {\n            this.messagesEnd = el;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default MessageList;\n","import React, { useState } from \"react\";\nimport { useMutation } from \"react-apollo-hooks\";\nimport { InputAdornment, TextField, Icon } from \"@material-ui/core\";\nimport styles from \"./Form.module.scss\";\nimport gql from \"graphql-tag\";\n\nconst sendMessage = gql`\n  mutation sendMessage(\n    $senderId: String!\n    $receiverId: String!\n    $contents: String!\n    $time: Date!\n  ) {\n    sendMessage(\n      senderId: $senderId\n      receiverId: $receiverId\n      contents: $contents\n      time: $time\n    ) {\n      senderId\n      receiverId\n      contents\n      time\n    }\n  }\n`;\n\nconst Form = ({ chatId }) => {\n  const [contents, setContents] = useState(\"\");\n  const mutaition = useMutation(sendMessage, {\n    variables: {\n      senderId: window.sessionStorage.getItem(\"id\"),\n      receiverId: chatId,\n      contents,\n      time: new Date()\n    }\n  });\n  return (\n    <div className={styles.form}>\n      <TextField\n        onChange={e => {\n          setContents(e.target.value);\n        }}\n        onKeyPress={e => {\n          if (e.key === \"Enter\") {\n            setContents(\"\");\n            mutaition();\n          }\n        }}\n        value={contents}\n        fullWidth={true}\n        margin=\"normal\"\n        label=\"Message\"\n        placeholder=\"Type your message.\"\n        variant=\"outlined\"\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Icon className={styles.sendButton}>send</Icon>\n            </InputAdornment>\n          )\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\nimport styles from \"./Contents.module.scss\";\nimport MessageList from \"./MessageList\";\nimport Form from \"./Form\";\n\nconst Contents = ({ chatId }) => {\n  if (!chatId) {\n    return <div className={styles.contents}>Hello</div>;\n  }\n  return (\n    <div className={styles.contents}>\n      <MessageList chatId={chatId} />\n      <Form chatId={chatId} />\n    </div>\n  );\n};\n\nexport default Contents;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport UserList from \"./UserList\";\nimport Contents from \"./Contents\";\n\nconst Home = () => {\n  const [chatId, setChatId] = useState(null);\n  const [redirectToReferrer, setRedirectToReferrer] = useState(false);\n  console.log(chatId);\n  if (redirectToReferrer || !window.sessionStorage.getItem(\"id\")) {\n    return <Redirect to={\"/Login\"} />;\n  }\n  return (\n    <>\n      <Header setRedirectToReferrer={setRedirectToReferrer} />\n      <UserList setChatId={setChatId} />\n      <Contents chatId={chatId} />\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { GoogleLogin } from \"react-google-login\";\nimport gql from \"graphql-tag\";\nimport { Mutation } from \"react-apollo\";\nimport styles from \"./LoginButton.module.scss\";\n\nconst addUser = gql`\n  mutation addUser($_id: String!, $name: String!, $imageUrl: String!) {\n    addUser(_id: $_id, name: $name, imageUrl: $imageUrl) {\n      _id\n    }\n  }\n`;\n\nconst GoogleLoginButton = ({ setRedirectToReferrer }) => {\n  return (\n    <Mutation mutation={addUser}>\n      {(addUser, { data }) => (\n        <GoogleLogin\n          clientId=\"165456640557-6cjrts6a3lgjkupm0l6vsg1b8pk45q1l.apps.googleusercontent.com\"\n          buttonText=\"Login with Google\"\n          onSuccess={res => {\n            console.log(res);\n            addUser({\n              variables: {\n                _id: res.profileObj.googleId,\n                name: res.profileObj.name,\n                imageUrl: res.profileObj.imageUrl\n              }\n            });\n            window.sessionStorage.setItem(\"id\", res.profileObj.googleId);\n            window.sessionStorage.setItem(\"name\", res.profileObj.name);\n            setRedirectToReferrer(true);\n          }}\n          onFailure={() => {\n            console.log(\"fail\");\n          }}\n          className={styles.loginButton}\n        />\n      )}\n    </Mutation>\n  );\n};\n\nexport default GoogleLoginButton;\n","import React from \"react\";\nimport FacebookLogin from \"react-facebook-login\";\nimport gql from \"graphql-tag\";\nimport { Mutation } from \"react-apollo\";\n\nconst addUser = gql`\n  mutation addUser($_id: String!, $name: String!, $imageUrl: String!) {\n    addUser(_id: $_id, name: $name, imageUrl: $imageUrl) {\n      _id\n    }\n  }\n`;\n\nconst FacebookLoginButton = ({ setRedirectToReferrer }) => {\n  return (\n    <Mutation mutation={addUser}>\n      {(addUser, { data }) => (\n        <FacebookLogin\n          appId=\"2329703533974558\"\n          autoLoad={false}\n          fields=\"id,name,picture\"\n          redirectUri=\"https://10.200.43.120:3000/Login\"\n          callback={res => {\n            addUser({\n              variables: {\n                _id: res.id,\n                name: res.name,\n                imageUrl: res.picture.data.url\n              }\n            });\n            window.sessionStorage.setItem(\"id\", res.id);\n            window.sessionStorage.setItem(\"name\", res.name);\n            setRedirectToReferrer(true);\n          }}\n          icon=\"fa-facebook\"\n        />\n      )}\n    </Mutation>\n  );\n};\n\nexport default FacebookLoginButton;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport styles from \"./LoginBox.module.scss\";\nimport GoogleLoginButton from \"./GoogleLoginButton\";\nimport FacebookLoginButton from \"./FacebookLoginButton\";\n\nconst LoginBox = () => {\n  const [redirectToReferrer, setRedirectToReferrer] = useState(false);\n\n  if (redirectToReferrer || window.sessionStorage.getItem(\"id\")) {\n    return <Redirect to={\"/\"} />;\n  }\n  return (\n    <div className={styles.loginBox}>\n      <h1>로그인을 해주세요.</h1>\n      <GoogleLoginButton setRedirectToReferrer={setRedirectToReferrer} />\n      <FacebookLoginButton setRedirectToReferrer={setRedirectToReferrer} />\n    </div>\n  );\n};\n\nexport default LoginBox;\n","import React from \"react\";\nimport LoginBox from \"./LoginBox\";\n\nconst LoginPage = () => {\n  return (\n    <div className=\"LP\">\n      <LoginBox />\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React, { Component } from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport client from \"./apolloClient\";\nimport { ApolloProvider } from \"react-apollo\";\nimport { ApolloProvider as ApolloHooksProvider } from \"react-apollo-hooks\";\nimport Home from \"./Home\";\nimport LoginPage from \"./LoginPage\";\n\nclass App extends Component {\n  render() {\n    return (\n      <ApolloProvider client={client}>\n        <ApolloHooksProvider client={client}>\n          <Router>\n            <Route exact path={\"/\"} component={Home} />\n            <Route path={\"/chat/:id\"} component={Home} />\n            <Route path={\"/Login\"} component={LoginPage} />\n          </Router>\n        </ApolloHooksProvider>\n      </ApolloProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sentMessage\":\"Message_sentMessage__3CikW\",\"receivedMessage\":\"Message_receivedMessage__G0kj3\",\"sentMessageBox\":\"Message_sentMessageBox__3-mSh\",\"receivedMessageBox\":\"Message_receivedMessageBox__12g_M\",\"time\":\"Message_time__FDHyx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1iiHo\",\"logo\":\"Header_logo__3DmFa\",\"menuButton\":\"Header_menuButton__hywlG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__bwaks\",\"imgProfile\":\"User_imgProfile__13mtq\",\"userName\":\"User_userName__P1Yig\"};"],"sourceRoot":""}