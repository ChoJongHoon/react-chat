(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,n,t){e.exports={menuButton:"MenuButton_menuButton__2hnTh",menuIcon:"MenuButton_menuIcon__1ETe7"}},115:function(e,n){e.exports="data:image/png;base64,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"},117:function(e,n,t){e.exports={contents:"Contents_contents__13PQN"}},118:function(e,n,t){e.exports={form:"Form_form__2mMMU",sendButton:"Form_sendButton__37K3z"}},161:function(e,n,t){e.exports={messageList:"MessageList_messageList__2-Kzd"}},164:function(e,n,t){e.exports={loginBox:"LoginBox_loginBox__217rc"}},166:function(e,n,t){e.exports={loginButton:"LoginButton_loginButton__1t5-Z",logo:"LoginButton_logo__1i_wS"}},250:function(e,n,t){e.exports=t(394)},39:function(e,n,t){e.exports={list:"UserList_list__3xMby",show:"UserList_show__3i0cX",unshow:"UserList_unshow__18URb",onlineBar:"UserList_onlineBar__1kMQR",offlineBar:"UserList_offlineBar__KiJry",searchField:"UserList_searchField__BmTa6",toggleShowList:"UserList_toggleShowList__lLded"}},393:function(e,n,t){},394:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(23),i=t.n(o),s=t(68),c=t(69),u=t(73),l=t(70),m=t(74),d=t(67),g=t(38),f=t(398),b=t(19),v=t(77),p=t(159),E=t(3),O=t(170),I=new f.a({uri:"http://35.243.116.187:4000"}),j=new p.a({uri:"ws://35.243.116.187:4000/",options:{reconnect:!0}}),h=Object(b.d)(function(e){var n=e.query,t=Object(E.k)(n),a=t.kind,r=t.operation;return"OperationDefinition"===a&&"subscription"===r},j,I),w=new v.a({link:h,cache:new O.a}),z=t(32),A=t(162),N=t(24),B=t(75),S=t.n(B),L=t(66),x=t.n(L),H=t(53),U=t.n(H),k=t(45),T=t.n(k),P=t(46),M=t(114),y=t.n(M),F=function(e){var n=e.setRedirectToReferrer,t=Object(a.useState)(null),o=Object(N.a)(t,2),i=o[0],s=o[1],c=Boolean(i),u=function(){s(null)};return r.a.createElement("div",{className:y.a.menuButton},r.a.createElement(P.b,{"aria-label":"More","aria-owns":c?"menu":void 0,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)}},r.a.createElement(T.a,{className:y.a.menuIcon},"more_vert")),r.a.createElement(x.a,{id:"menu",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:u,PaperProps:{style:{width:200}}},r.a.createElement(U.a,{onClick:function(){window.sessionStorage.clear(),n(!0)}},"Logout"),r.a.createElement(U.a,{onClick:u},"Todo List")))},R=function(e){var n=e.setRedirectToReferrer;return r.a.createElement("div",{className:S.a.header},r.a.createElement("div",{className:S.a.logo},"Messenger"),r.a.createElement(F,{className:S.a.menuButton,setRedirectToReferrer:n}))},X=t(26),_=t(65),C=t.n(_),J=t(39),Y=t.n(J),Z=t(4),q=t.n(Z),Q=t(76),D=t.n(Q),V=t(115),G=t.n(V),K=function(e){var n=e._id,t=e.name,a=e.picture,o=e.setChatId;return a||(a=G.a),r.a.createElement("div",{className:D.a.user,onClick:function(){o(n)}},r.a.createElement("img",{src:a,alt:"profile",className:D.a.imgProfile}),r.a.createElement("div",{className:D.a.userName},t))};K.propType={_id:q.a.String,name:q.a.String,picture:q.a.String,onClick:q.a.func},K.defaultProps={id:"",name:"\uc774\ub984 \uc5c6\uc74c",picture:G.a,onClickUser:function(){console.warn("onClick is not define")}};var W=K,$=t(27),ee=t.n($);function ne(){var e=Object(X.a)(["\n  query {\n    users {\n      _id\n      name\n      imageUrl\n      online\n    }\n  }\n"]);return ne=function(){return e},e}var te=ee()(ne()),ae=function(e){var n=e.setChatId,t=Object(a.useState)(!1),o=Object(N.a)(t,2),i=o[0],s=o[1],c=Object(a.useState)(""),u=Object(N.a)(c,2),l=u[0],m=u[1],d=function(e){m(e.target.value)};return r.a.createElement(z.c,{query:te},function(e){var t=e.loading,o=e.data;if(t)return null;if(o){console.log(o);var c=o.users.filter(function(e){return-1!==e.name.indexOf(l)&&e._id!==window.sessionStorage.getItem("id")}),u=c.filter(function(e){return e.online}),m=c.filter(function(e){return!e.online});return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"".concat(Y.a.list," ").concat(i?Y.a.show:Y.a.unshow)},r.a.createElement(C.a,{id:"standard-dense",label:"Search",margin:"dense",onChange:d}),r.a.createElement("div",{className:Y.a.onlineBar},"online"),u.map(function(e){return r.a.createElement(W,{key:e._id,_id:e._id,name:e.name,picture:e.imageUrl,setChatId:n})}),r.a.createElement("div",{className:Y.a.offlineBar},"offline"),m.map(function(e){return r.a.createElement(W,{key:e._id,_id:e._id,name:e.name,picture:e.imageUrl,setChatId:n})})),r.a.createElement(T.a,{className:Y.a.toggleShowList,fontSize:"large",color:"inherit",onClick:function(){s(!i),console.log(i)}},"people"))}})},re=t(117),oe=t.n(re),ie=t(168),se=t(169),ce=t(48),ue=t.n(ce),le=function(e){var n=new Date(e),t=n.getHours(),a=n.getMinutes(),r="\uc624\uc804 ";return t>=12&&(t-=12,r="\uc624\ud6c4 "),t<10&&(t="0"+t),a<10&&(a="0"+a),r+=t+":"+a},me=function(e){var n=e.me,t=e.time,a=e.children;return r.a.createElement("div",{className:n?ue.a.sentMessage:ue.a.receivedMessage},r.a.createElement("div",{className:n?ue.a.sentMessageBox:ue.a.receivedMessageBox},a),r.a.createElement("div",{className:ue.a.time},le(t)))};me.propType={me:q.a.bool,date:q.a.number};var de=me,ge=t(161),fe=t.n(ge);function be(){var e=Object(X.a)(["\n  subscription newMessage($roomId: String) {\n    newMessage(roomId: $roomId) {\n      _id\n      senderId\n      receiverId\n      contents\n      time\n    }\n  }\n"]);return be=function(){return e},e}function ve(){var e=Object(X.a)(["\n  query messages($userId1: String!, $userId2: String!) {\n    messages(userId1: $userId1, userId2: $userId2) {\n      _id\n      senderId\n      receiverId\n      contents\n      time\n    }\n  }\n"]);return ve=function(){return e},e}var pe=ee()(ve()),Ee=ee()(be()),Oe=null,Ie=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).scrollToBottom=function(){console.log(t.messagesEnd),setTimeout(function(){t.messagesEnd.scrollIntoView()},100)},t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this,n=this.props.chatId;return r.a.createElement("div",null,r.a.createElement(z.c,{query:pe,variables:{userId1:window.sessionStorage.getItem("id"),userId2:n}},function(t){var a=t.loading,o=t.error,i=t.data,s=t.subscribeToMore,c=t.refetch;return a?null:o||(Oe||(Oe=s({document:Ee,variables:{roomId:window.sessionStorage.getItem("id")<n?window.sessionStorage.getItem("id")+n:n+window.sessionStorage.getItem("id")},updateQuery:function(e,n){var t=n.subscriptionData;if(!t.data)return e;var a=t.data.newMessage;return Object(se.a)({},e,{messages:[].concat(Object(ie.a)(e.messages),[a])})}})),console.log(i.messages),c(),e.scrollToBottom(),r.a.createElement("div",{className:fe.a.messageList},i.messages.map(function(e){return r.a.createElement(de,{key:e._id,me:e.senderId===window.sessionStorage.getItem("id"),time:e.time},e.contents)})))}),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(n){e.messagesEnd=n}}))}}]),n}(r.a.Component),je=t(397),he=t(118),we=t.n(he);function ze(){var e=Object(X.a)(["\n  mutation sendMessage(\n    $senderId: String!\n    $receiverId: String!\n    $contents: String!\n    $time: Date!\n  ) {\n    sendMessage(\n      senderId: $senderId\n      receiverId: $receiverId\n      contents: $contents\n      time: $time\n    ) {\n      senderId\n      receiverId\n      contents\n      time\n    }\n  }\n"]);return ze=function(){return e},e}var Ae=ee()(ze()),Ne=function(e){var n=e.chatId,t=Object(a.useState)(""),o=Object(N.a)(t,2),i=o[0],s=o[1],c=Object(je.a)(Ae,{variables:{senderId:window.sessionStorage.getItem("id"),receiverId:n,contents:i,time:new Date}});return r.a.createElement("div",{className:we.a.form},r.a.createElement(P.d,{onChange:function(e){s(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(s(""),c())},value:i,fullWidth:!0,margin:"normal",label:"Message",placeholder:"Type your message.",variant:"outlined",InputProps:{endAdornment:r.a.createElement(P.c,{position:"end"},r.a.createElement(P.a,{className:we.a.sendButton},"send"))}}))},Be=function(e){var n=e.chatId;return n?r.a.createElement("div",{className:oe.a.contents},r.a.createElement(Ie,{chatId:n}),r.a.createElement(Ne,{chatId:n})):r.a.createElement("div",{className:oe.a.contents},"Hello")},Se=function(){var e=Object(a.useState)(null),n=Object(N.a)(e,2),t=n[0],o=n[1],i=Object(a.useState)(!1),s=Object(N.a)(i,2),c=s[0],u=s[1];return console.log(t),c||!window.sessionStorage.getItem("id")?r.a.createElement(g.a,{to:"/Login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{setRedirectToReferrer:u}),r.a.createElement(ae,{setChatId:o}),r.a.createElement(Be,{chatId:t}))},Le=t(164),xe=t.n(Le),He=t(165),Ue=t(166),ke=t.n(Ue);function Te(){var e=Object(X.a)(["\n  mutation addUser($_id: String!, $name: String!, $imageUrl: String!) {\n    addUser(_id: $_id, name: $name, imageUrl: $imageUrl) {\n      _id\n    }\n  }\n"]);return Te=function(){return e},e}var Pe=ee()(Te()),Me=function(e){var n=e.setRedirectToReferrer;return r.a.createElement(z.b,{mutation:Pe},function(e,t){return t.data,r.a.createElement(He.GoogleLogin,{clientId:"165456640557-6cjrts6a3lgjkupm0l6vsg1b8pk45q1l.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(t){console.log(t),e({variables:{_id:t.profileObj.googleId,name:t.profileObj.name,imageUrl:t.profileObj.imageUrl}}),window.sessionStorage.setItem("id",t.profileObj.googleId),window.sessionStorage.setItem("name",t.profileObj.name),n(!0)},onFailure:function(){console.log("fail")},className:ke.a.loginButton})})},ye=t(167),Fe=t.n(ye);function Re(){var e=Object(X.a)(["\n  mutation addUser($_id: String!, $name: String!, $imageUrl: String!) {\n    addUser(_id: $_id, name: $name, imageUrl: $imageUrl) {\n      _id\n    }\n  }\n"]);return Re=function(){return e},e}var Xe=ee()(Re()),_e=function(e){var n=e.setRedirectToReferrer;return r.a.createElement(z.b,{mutation:Xe},function(e,t){return t.data,r.a.createElement(Fe.a,{appId:"2329703533974558",autoLoad:!1,fields:"id,name,picture",redirectUri:"https://10.200.43.120:3000/Login",callback:function(t){e({variables:{_id:t.id,name:t.name,imageUrl:t.picture.data.url}}),window.sessionStorage.setItem("id",t.id),window.sessionStorage.setItem("name",t.name),n(!0)},icon:"fa-facebook"})})},Ce=function(){var e=Object(a.useState)(!1),n=Object(N.a)(e,2),t=n[0],o=n[1];return t||window.sessionStorage.getItem("id")?r.a.createElement(g.a,{to:"/"}):r.a.createElement("div",{className:xe.a.loginBox},r.a.createElement("h1",null,"\ub85c\uadf8\uc778\uc744 \ud574\uc8fc\uc138\uc694."),r.a.createElement(Me,{setRedirectToReferrer:o}),r.a.createElement(_e,{setRedirectToReferrer:o}))},Je=function(){return r.a.createElement("div",{className:"LP"},r.a.createElement(Ce,null))},Ye=function(e){function n(){return Object(s.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(z.a,{client:w},r.a.createElement(A.a,{client:w},r.a.createElement(d.a,null,r.a.createElement(g.b,{exact:!0,path:"/",component:Se}),r.a.createElement(g.b,{path:"/chat/:id",component:Se}),r.a.createElement(g.b,{path:"/Login",component:Je}))))}}]),n}(a.Component);t(393);i.a.render(r.a.createElement(Ye,null),document.getElementById("root"))},48:function(e,n,t){e.exports={sentMessage:"Message_sentMessage__3CikW",receivedMessage:"Message_receivedMessage__G0kj3",sentMessageBox:"Message_sentMessageBox__3-mSh",receivedMessageBox:"Message_receivedMessageBox__12g_M",time:"Message_time__FDHyx"}},75:function(e,n,t){e.exports={header:"Header_header__1iiHo",logo:"Header_logo__3DmFa",menuButton:"Header_menuButton__hywlG"}},76:function(e,n,t){e.exports={user:"User_user__bwaks",imgProfile:"User_imgProfile__13mtq",userName:"User_userName__P1Yig"}}},[[250,1,2]]]);
//# sourceMappingURL=main.8aa9817f.chunk.js.map